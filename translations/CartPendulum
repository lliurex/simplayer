<!DOCTYPE html>
<html lang="es">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="stylesheet.css">
<link rel="stylesheet" type="text/css" href="../common/stylesheet1.css">
<title>Carro y Péndulo</title>

<script>
  document.getElementsByTagName("html")[0].style.visibility = "hidden";
</script>
</head>
<body>

<h1>Carro y Péndulo</h1>

<ul id="header_bar" class="horiz_tabs">
  <li class="sim selected">Simulador</li>
  <li class="graph ">Gráfico</li>
  <li class="time_graph">Gráfico de tiempo</li>
  <li class="multi_graph">Gŕafico múltiple</li>
</ul>

<div id="container" class="control_container">
  <div id="div_graph" >
  </div>
  <div id="div_time_graph" >
  </div>
  <div id="sim_applet" >
  </div>
  <div id="sim_controls" class="control_group">
  </div>
  <div id="graph_controls" class="control_group">
  </div>
  <div id="time_graph_controls" class="control_group">
  </div>
  <p>
  <label id="label_show_sim">
    <input type="checkbox" id="show_sim">show sim
  </label>
   <label id="label_terminal">
    <input type="checkbox" id="show_terminal">terminal
   </label>
   <div id="div_terminal">
     <textarea id="term_output" cols=80 rows=20 wrap="soft"></textarea> <br>
     <label style="display:inline-block">command &gt;
       <input type="text" id="term_input" size="80">
     </label>
   </div>
</div>

<h2>Acerca de</h2>

<p class="introduction">
    En esta simulación hay un carro que se mueve a lo largo de una pista horizontal. Del carrito un
    el péndulo está suspendido. Un resorte conecta el carro a una pared. La fricción actúa sobre el carro.
    y en el péndulo.
</p>

<p class="instructions">
    Puede arrastrar el carrito o el péndulo con el mouse para cambiar la posición inicial.
    Habilite la casilla de verificación "mostrar controles" para establecer la gravedad, la masa, la longitud del péndulo, la primavera
    rigidez o fricción (amortiguación). Haga clic en el botón "restablecer" para comenzar desde una posición de reposo.
</p>

<p>La matemática detrás de la simulación se muestra a continuación. También está disponible:
<a href="https://github.com/myphysicslab/myphysicslab/blob/master/src/sims/pendulum/CartPendulumApp.js">código fuente</a>,
documentación y un
versión compilada simple
que es más personalizable.
</p>

<p>Hay dos formas de encontrar las ecuaciones de movimiento para un sistema como este: la
    la vía newtoniana directa o la vía lagrangiana indirecta. Mostramos ambos métodos aquí.
</p>


<h2 id="kinematics">Cinemática</h2>

<div class="image" style="width: 95px;">
<br >
<img src="cart_pendulum_1.gif"  width="88" height="191"
alt="diagrama de carro + variables de péndulo y vectores unitarios i, j">
</div>

<div style="margin-left: 100px;">
<p>Para los métodos directos e indirectos, primero debemos obtener la cinemática correcta.
    Cinemática significa las relaciones de las partes del dispositivo, sin tener en cuenta las fuerzas. En
    cinemática sólo estamos tratando de encontrar expresiones para la posición, velocidad y
    aceleración en términos de cualquier variable que hayamos elegido. Las variables aquí son:
</p>

<ul class="vars">
    <li><span class="html-math inline-math">
<i>x</i> =
</span> posición del carro (0 = resorte sin estirar)</li>
    <li><span class="html-math inline-math">
<i>&theta;</i> =
</span> ángulo del péndulo (0 = péndulo colgando hacia abajo)</li>
    <li><span class="html-math inline-math">
<i>R</i> =
</span> longitud de la varilla (constante)</li>
</ul>

<p>Necesitaremos los vectores unitarios estándar, <span class="html-math inline-math">
<span class="vector">i</span>, <span class="vector">j</span>, <span class="vector">k</span>
</span>. Usamos negrita y overline
para indicar un vector.
</p>

<ul class="vars">
    <li><span class="html-math inline-math">
<span class="vector">i</span> = (1,0,0)
</span> vector unitario en dirección horizontal</li>
    <li><span class="html-math inline-math">
<span class="vector">j</span> = (0,1,0)
</span> vector unitario en dirección vertical</li>
    <li><span class="html-math inline-math">
<span class="vector">k</span> = (0,0,1)
</span> vector unitario en dirección z (fuera de la página hacia el
lector)</li>
</ul>
</div>

<div style="clear: both;">
<p>La cinemática del carro es sencilla
</p>

<p class="html-math display-equation">
    posición = <i>x</i> <span class="vector">i</span>   <br >
    velocidad = <i>x'</i> <span class="vector">i</span>   <br >
    aceleración = <i>x''</i> <span class="vector">i</span>   <br >
</p>

<p>La cinemática del péndulo es más compleja. La posición se deriva de una
    aplicación bastante simple de la trigonometría. La velocidad y la aceleración son entonces las
    Primera y segunda derivada de la posición.
</p>

<p class="html-math display-equation">
    posición = <i>x</i> <span class="vector">i</span> + <i>R</i> sin <i>&theta;</i> <span class="vector">i</span> &minus; <i>R</i> cos <i>&theta;</i> <span class="vector">j</span>
</p>

<p class="html-math display-equation">
    velocidad  = <i>x'</i> <span class="vector">i</span> + <i>R</i> <i>&theta;'</i> cos <i>&theta;</i> <span class="vector">i</span> + <i>R</i> <i>&theta;'</i> sin <i>&theta;</i> <span class="vector">j</span>
</p>

<p class="html-math display-equation">
    aceleración = <i>x''</i> <span class="vector">i</span> + <i>R</i> <i>&theta;''</i> cos <i>&theta;</i> <span class="vector">i</span> &minus;
<span class="nobr"><i>R</i> <i>&theta;'</i> <sup>2</sup> sin <i>&theta;</i> <span class="vector">i</span></span> +
<span class="nobr"><i>R</i> <i>&theta;''</i> sin <i>&theta;</i> <span class="vector">j</span></span> +
<span class="nobr"><i>R</i> <i>&theta;'</i> <sup>2</sup> cos <i>&theta;</i> <span class="vector">j</span></span>
</p>
</div>

<p>
Hay una forma alternativa de calcular la cinemática que puede ver en el libro de texto sobre dinámica.
La idea es que puede definir dos o más marcos de coordenadas que están moviéndose una con respecto a la otra.
Supongamos que hay un objeto para el que desea encontrar la velocidad y la aceleración con respecto al marco que está estacionario
(entonces se pueden usar las ecuaciones de Newton).
Suponga que es fácil definir el movimiento del objeto en un marco que gira o se traslada de alguna manera.
Entonces puedes usar fórmulas estándar que convierten el cuadro en movimiento en el cuadro estacionario.<br >
<br>
En realidad, es algo complicado usar estas fórmulas, y parece más sencillo
para encontrar la cinemática tomar derivadas del vector de posición, como hicimos anteriormente.
Pero para situaciones más complicadas, es posible que desee conocer este método alternativo.
de cálculo de la cinemática.
</p>



<h2>Fuerzas</h2>


<div style="margin-left: 95px;">
<p>Tratamos el carro y la lenteja del péndulo como partículas puntuales. Se empieza dibujando el diagrama del cuerpo libre para el carro y se escriben las expresiones de las fuerzas que actúan sobre ellos. Se definen los siguientes parámetros y fuerzas:
</p>

<ul class="vars">
    <li><span class="html-math inline-math">
<i>N</i> =
</span> fuerza normal (a partir de la pista en la que se encuentra el carrito)</li>
    <li><span class="html-math inline-math">
<i>T</i> =
</span> tensión en la varilla</li>
    <li><span class="html-math inline-math">
<i>M</i> =
</span> masa del carro</li>
    <li><span class="html-math inline-math">
<i>m</i> =
</span> masa de péndulo</li>
    <li><span class="html-math inline-math">
<i>g</i> =
</span> constante gravitacional</li>
    <li><span class="html-math inline-math">
<i>d</i> =
</span> constante de fricción del carro</li>
    <li><span class="html-math inline-math">
<i>b</i> =
</span> constante de fricción del péndulo</li>
    <li><span class="html-math inline-math">
<i>k</i> =
</span> rigidez del resorte o muelle</li>
</ul>
</div>

<div class="image" style="width: 90px;">
<img src="cart_pendulum_2.gif"  width="90" height="121"   alt="" >
fuerzas del carro
<br ><br ><br >
<img src="cart_pendulum_3.gif"  width="70" height="122"   alt="" >
<br >
fuerzas pendulares
</div>

<div style="margin-left: 95px;">

<p>Con solo mirar el diagrama de cuerpo libre, podemos descifrar fácilmente algunas de las
    fuerzas sobre el carro. (La fuerza de fricción del péndulo es más complicada, se explica en la
    siguiente sección).
</p>

<ul class="vars">
    <li>fuerza de resorte <span class="html-math inline-math">
= &minus;<i>k</i> <i>x</i> <span class="vector">i</span>
</span></li>
    <li>fuerza normal <span class="html-math inline-math">
= <i>N</i> <span class="vector">j</span>
</span></li>
    <li>gravedad <span class="html-math inline-math">
= &minus;<i>M</i> <i>g</i> <span class="vector">j</span>
</span></li>
    <li>tensión en la barra <span class="html-math inline-math">
= &minus;<i>T</i> cos <i>&theta;</i> <span class="vector">j</span> + <i>T</i> sin <i>&theta;</i> <span class="vector">i</span>
</span></li>
    <li>fricción del carro <span class="html-math inline-math">
= &minus;<i>d</i> <i>x'</i> <span class="vector">i</span>
</span></li>
    <li>fricción del péndulo <span class="html-math inline-math">
= <sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i> (cos <i>&theta;</i> <span class="vector">i</span> + sin <i>&theta;</i> <span class="vector">j</span>)
</span></li>
</ul>


<p>Las fuerzas sobre la lenteja del péndulo son:
</p>

<ul class="vars">
    <li>tensión en la varilla <span class="html-math inline-math">
= <i>T</i> cos <i>&theta;</i> <span class="vector">j</span> &minus; <i>T</i> sin <i>&theta;</i> <span class="vector">i</span>
</span></li>
    <li>gravedad <span class="html-math inline-math">
= &minus;<i>m</i> <i>g</i> <span class="vector">j</span>
</span></li>
    <li>fricción del péndulo <span class="html-math inline-math">
= &minus;<sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i> (cos <i>&theta;</i> <span class="vector">i</span> + sin <i>&theta;</i> <span class="vector">j</span>)
</span></li>
</ul>

</div>

<div style="clear:left">
  &nbsp;  <!-- needed to have margin space below the floated image -->
</div>



<h2 id="friction_torque">Fuerza de torsión de la fricción del péndulo</h2>

<div class="image" style="width: 95px;">
<img src="cart_pendulum_4.gif"     width="94" height="142" alt="">
<br >fuerza de torsión de fricción
</div>

<div style="margin-left: 100px;">
<p>Consideramos que el par de torsión de la fricción del péndulo es un vector perpendicular al
    plano donde se mueven el péndulo y el carro. Es decir, el par está en la dirección del vector unitario
    <span class="html-math inline-math">
<span class="vector">k</span>
</span> que se extiende fuera del plano. La magnitud del par
viene dado por <span class="html-math inline-math">
&minus;<i>b</i> <i>&theta;'</i>
</span> donde <span class="html-math inline-math">
<i>&theta;'</i>
</span> es la velocidad angular. Podemos
considerar la fuerza del momento de torsión como equivalente a una fuerza aplicada al final de
la varilla del péndulo (ver ilustración). De la Tercera Ley de Newton (toda acción tiene la misma
reacción opuesta) sabemos que la misma fuerza se aplica en el otro extremo de la
varilla, pero en dirección opuesta.
</p>
</div>

<div style="clear: both;">
<p>Un momento de torsión que es el resultado de una fuerza <span class="html-math inline-math">
<span class="vector">F</span>
</span> aplicado al final de la varilla
<span class="html-math inline-math">
<span class="vector">R</span>
</span> viene dado por el producto cruzado
</p>

<p class="html-math display-equation">
<span class="vector">R</span> &times; <span class="vector">F</span> = (<i>R<sub>x</sub></i>, <i>R<sub>y</sub></i>, 0) &times; (<i>F<sub>x</sub></i>, <i>F<sub>y</sub></i>, 0) =
<span class="nobr">(<i>R<sub>x</sub></i> <i>F<sub>y</sub></i> &minus; <i>R<sub>y</sub></i> <i>F<sub>x</sub></i>) <span class="vector">k</span></span>
</p>

<p>Aquí mostramos un vector de 3 dimensiones como <span class="html-math inline-math">
(<i>x</i>, <i>y</i>, <i>z</i>)
</span> que es lo mismo que
<span class="html-math inline-math">
<i>x</i> <span class="vector">i</span> + <i>y</i> <span class="vector">j</span> + <i>z</i> <span class="vector">k</span>
</span>. &nbsp; Consideramos la fuerza <span class="html-math inline-math">
<span class="vector">F</span>
</span> como una fuerza que es
perpendicular a la barra, de modo que
</p>

<p class="html-math display-equation">
<span class="vector">F</span> = <i>f</i> (&minus;<i>R<sub>y</sub></i>, <i>R<sub>x</sub></i>, 0) &frasl; <i>R</i>
</p>

<p>donde <span class="html-math inline-math">
<i>f</i>
</span> es la magnitud desconocida de <span class="html-math inline-math">
<span class="vector">F</span>
</span> y <span class="html-math inline-math">
<i>R</i>
</span> es la
longitud de <span class="html-math inline-math">
<span class="vector">R</span>
</span> para que <span class="html-math inline-math">
<i>R</i> = &radic;(<i>R<sub>x</sub></i><sup>2</sup> + <i>R<sub>y</sub></i><sup>2</sup>)
</span>. La dirección
de <span class="html-math inline-math">
<span class="vector">F</span>
</span> se elige para que el par positivo conduzca a un aumento en <span class="html-math inline-math">
<i>&theta;</i>
</span>.
Entonces el producto cruzado se convierte en
</p>

<p class="html-math display-equation">
<span class="vector">R</span> &times; <span class="vector">F</span> = (<i>R<sub>x</sub></i> <i>F<sub>y</sub></i> &minus; <i>R<sub>y</sub></i> <i>F<sub>x</sub></i>) <span class="vector">k</span> =
<span class="nobr"><i>f</i> (<i>R<sub>x</sub></i><sup>2</sup> + <i>R<sub>y</sub></i><sup>2</sup>) &frasl; <i>R</i> <span class="vector">k</span></span> =
<span class="nobr"><i>f</i> <i>R</i> <span class="vector">k</span></span>
</p>

<p>Ahora podemos encontrar <span class="html-math inline-math">
<i>f</i>
</span>:
</p>

<p class="html-math display-equation">
&minus;<i>b</i> <i>&theta;'</i> <span class="vector">k</span> = <span class="vector">R</span> &times; <span class="vector">F</span> = <i>f</i> <i>R</i> <span class="vector">k</span>
</p>

<p class="html-math display-equation">
<i>f</i> = <sup>&minus;<i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i>
</p>

<p>Este resultado tiene sentido: considere que para producir una determinada cantidad de par, usted
    necesitaría una fuerza más fuerte aplicada en el extremo de una varilla corta, o una fuerza más débil con un
    varilla más larga. Entonces la fuerza está dada por
</p>

<p class="html-math display-equation">
<span class="vector">F</span> = <i>f</i> (&minus;<i>R<sub>y</sub></i>, <i>R<sub>x</sub></i>, 0) &frasl; <i>R</i> =
<span class="nobr"><sup>&minus;<i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i> (cos <i>&theta;</i> <span class="vector">i</span> + sin <i>&theta;</i> <span class="vector">j</span>)</span>
</p>

<p>Tenga en cuenta que <span class="html-math inline-math">
<span class="vector">R</span> = <i>R</i>(sin <i>&theta;</i>, &minus;cos <i>&theta;</i>, 0)
</span> que justifica parte de la
ecuación anterior. Esta fuerza de torsión <span class="html-math inline-math">
<span class="vector">F</span>
</span>  se aplica en la lenteja del péndulo, y
su contrario se aplica en el carro.
</p>
</div>





<h2>Método directo para encontrar ecuaciones de movimiento</h2>

<p>Sumamos las fuerzas descritas anteriormente para encontrar la fuerza neta sobre el carro
</p>

<p class="html-math display-equation">
<span class="vector">F</span> = <i>N</i> <span class="vector">j</span> &minus; <i>M</i> <i>g</i> <span class="vector">j</span> &minus; <i>T</i> cos <i>&theta;</i> <span class="vector">j</span> + <i>T</i> sin <i>&theta;</i> <span class="vector">i</span> &minus;
<span class="nobr"><i>k</i> <i>x</i> <span class="vector">i</span></span> &minus;
<span class="nobr"><i>d</i> <i>x'</i> <span class="vector">i</span></span> +
<span class="nobr"><sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i> (cos <i>&theta;</i> <span class="vector">i</span> + sin <i>&theta;</i> <span class="vector">j</span>)</span>
</p>

<p>Ahora usando la ley de Newton <span class="html-math inline-math">
<span class="vector">F</span> = <i>M</i> <span class="vector">a</span>
</span> y la aceleración del carrito que encontramos
antes, tenemos
</p>

<table class="html-math numbered-equation">
<tr><td class="equation-number">&nbsp;&nbsp;</td><td>
<i>N</i> <span class="vector">j</span> &minus; <i>M</i> <i>g</i> <span class="vector">j</span> &minus; <i>T</i> cos <i>&theta;</i> <span class="vector">j</span> + <i>T</i> sin <i>&theta;</i> <span class="vector">i</span> &minus; <i>k</i> <i>x</i> <span class="vector">i</span> +
<span class="nobr"><sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i> (cos <i>&theta;</i> <span class="vector">i</span> + sin <i>&theta;</i> <span class="vector">j</span>)</span> =
<span class="nobr"><i>M</i> <i>x''</i> <span class="vector">i</span></span>

</td><td class="equation-number">(1)</td></tr></table>

<p>Sumando las fuerzas sobre el péndulo tenemos
</p>

<p class="html-math display-equation">
<span class="vector">F</span> = <i>T</i> cos <i>&theta;</i> <span class="vector">j</span> &minus; <i>T</i> sin <i>&theta;</i> <span class="vector">i</span> &minus; <i>m</i> <i>g</i> <span class="vector">j</span> &minus;
<span class="nobr"><sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i> (cos <i>&theta;</i> <span class="vector">i</span> + sin <i>&theta;</i> <span class="vector">j</span>)</span>
</p>

<p>Usando la ley de Newton <span class="html-math inline-math">
<span class="vector">F</span> = <i>m</i> <span class="vector">a</span>
</span> y la aceleración del péndulo que encontramos
antes, tenemos
</p>

<table class="html-math numbered-equation">
<tr><td class="equation-number">&nbsp;&nbsp;</td><td>
<i>T</i> cos <i>&theta;</i> <span class="vector">j</span> &minus; <i>T</i> sin <i>&theta;</i> <span class="vector">i</span> &minus; <i>m</i> <i>g</i> <span class="vector">j</span> &minus;
<span class="nobr"><sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i> (cos <i>&theta;</i> <span class="vector">i</span> + sin <i>&theta;</i> <span class="vector">j</span>)</span> =
<span class="nobr"><i>m</i>(<i>x''</i> <span class="vector">i</span> + <i>R</i> <i>&theta;''</i> cos <i>&theta;</i> <span class="vector">i</span></span> &minus;
<span class="nobr"><i>R</i> <i>&theta;'</i> <sup>2</sup> sin <i>&theta;</i> <span class="vector">i</span></span> +
<span class="nobr"><i>R</i> <i>&theta;''</i> sin <i>&theta;</i> <span class="vector">j</span></span> +
<span class="nobr"><i>R</i> <i>&theta;'</i> <sup>2</sup> cos <i>&theta;</i> <span class="vector">j</span>)</span>

</td><td class="equation-number">(2)</td></tr></table>

<p>Ahora podemos escribir los componentes vectoriales de las ecuaciones anteriores (1) y (2) como
    ecuaciones separadas. Esto nos da 4 ecuaciones simultáneas.
</p>

<table class="html-math numbered-equation">
<tr><td class="equation-number">&nbsp;&nbsp;</td><td>
<i>T</i> sin <i>&theta;</i> &minus; <i>k</i> <i>x</i> &minus; <i>d</i> <i>x'</i> + <sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i> cos <i>&theta;</i> = <i>M</i> <i>x''</i>

</td><td class="equation-number">(3)</td></tr></table>

<p class="html-math display-equation">
<i>N</i> &minus; <i>M</i> <i>g</i> &minus; <i>T</i> cos <i>&theta;</i> + <sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i> sin <i>&theta;</i> = 0
</p>

<table class="html-math numbered-equation">
<tr><td class="equation-number">&nbsp;&nbsp;</td><td>
&minus; <i>T</i> sin <i>&theta;</i> &minus; <sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i> cos <i>&theta;</i> =
<span class="nobr"><i>m</i>(<i>x''</i> + <i>R</i> <i>&theta;''</i> cos <i>&theta;</i></span> &minus;
<span class="nobr"><i>R</i> <i>&theta;'</i> <sup>2</sup> sin <i>&theta;</i>)</span>

</td><td class="equation-number">(4)</td></tr></table>

<table class="html-math numbered-equation">
<tr><td class="equation-number">&nbsp;&nbsp;</td><td>
<i>T</i> cos <i>&theta;</i> &minus; <i>m</i> <i>g</i> &minus; <sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i> sin <i>&theta;</i> =
<span class="nobr"><i>m</i>(<i>R</i> <i>&theta;''</i> sin <i>&theta;</i></span> +
<span class="nobr"><i>R</i> <i>&theta;'</i> <sup>2</sup> cos <i>&theta;</i>)</span>

</td><td class="equation-number">(5)</td></tr></table>

<p>(Ignoramos la segunda de las cuatro ecuaciones, pero podríamos usarla para encontrar la incógnita
    de la fuerza normal <span class="html-math inline-math">
<i>N</i>
</span> en el carrito). Despues de hacer algunas manipulaciones algebraicas para eliminar
la tensión desconocida  <span class="html-math inline-math">
<i>T</i>
</span>. Sumando las ecuaciones (3) y (4) y reorganizando
obtenemos:
</p>

<table class="html-math numbered-equation"><tr><td class="emphasized">
(<i>M</i> + <i>m</i>)<i>x''</i> = <i>m</i> <i>R</i> <i>&theta;'</i> <sup>2</sup> sin <i>&theta;</i> &minus; <i>m</i> <i>R</i> <i>&theta;''</i> cos <i>&theta;</i> &minus; <i>k</i> <i>x</i> &minus;
<span class="nobr"><i>d</i> <i>x'</i></span>

</td><td class="equation-number">(6)</td></tr></table>

<p>Multiplicando la ecuación (5) por  <span class="html-math inline-math">
sin <i>&theta;</i>
</span>
</p>

<p class="html-math display-equation">
<i>T</i> sin <i>&theta;</i> cos <i>&theta;</i> &minus; <i>m</i> <i>g</i> sin <i>&theta;</i> &minus; <sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i> sin<sup>2</sup> <i>&theta;</i> =
<span class="nobr"><i>m</i> <i>R</i> <i>&theta;''</i> sin<sup>2</sup> <i>&theta;</i></span> +
<span class="nobr"><i>m</i> <i>R</i> <i>&theta;'</i> <sup>2</sup>sin <i>&theta;</i> cos <i>&theta;</i></span>
</p>

<p>Utilice la ecuación (4) para reemplazar <span class="html-math inline-math">
<i>T</i> sin <i>&theta;</i>
</span>.
</p>

<p class="html-math display-equation">
&minus;<sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i> cos<sup>2</sup> <i>&theta;</i> &minus; <i>m</i> <i>x''</i> cos <i>&theta;</i>
&minus; <i>m</i> <i>R</i> <i>&theta;''</i> cos<sup>2</sup><i>&theta;</i> +
<span class="nobr"><i>m</i> <i>R</i> <i>&theta;'</i> <sup>2</sup>sin <i>&theta;</i> cos <i>&theta;</i></span> &minus;
<span class="nobr"><i>m</i> <i>g</i> sin <i>&theta;</i></span> &minus;
<span class="nobr"><sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i> sin<sup>2</sup> <i>&theta;</i></span> =
<span class="nobr"><i>m</i> <i>R</i> <i>&theta;''</i> sin<sup>2</sup><i>&theta;</i></span> +
<span class="nobr"><i>m</i> <i>R</i> <i>&theta;'</i> <sup>2</sup>sin <i>&theta;</i> cos <i>&theta;</i></span>
</p>

<p>Usando la identidad trigonométrica <span class="html-math inline-math">
cos<sup>2</sup><i>&theta;</i> + sin<sup>2</sup><i>&theta;</i> = 1
</span> esto se simplifica a
</p>

<table class="html-math numbered-equation"><tr><td class="emphasized">
<sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i> + <i>m</i> <i>x''</i> cos <i>&theta;</i>  + <i>m</i> <i>R</i> <i>&theta;''</i> + <i>m</i> <i>g</i> sin <i>&theta;</i>  = 0

</td><td class="equation-number">(7)</td></tr></table>


<p>Las ecuaciones (6) y (7) son las ecuaciones de movimiento. Tenemos dos ecuaciones en las dos
    variables <span class="html-math inline-math">
<i>x</i>,<i>&theta;</i>
</span> y sus derivadas. Tendremos que hacer alguna
manipulación mas en estas dos ecuaciones para ponerlas en una forma adecuada para el
método de análisis numérico de Runge-Kutta (ver más abajo).
</p>



<h2 id="indirect">Método indirecto (energía) para encontrar ecuaciones de movimiento</h2>

<p>El método indirecto se basa en la energía del sistema. (Un buen libro de texto que
    cubre esto es "Fundamentals of Applied Dynamics" por James H. Williams Jr. &nbsp; Encontrará el mismo "Mass and
    Plane Pendulum Dynamic System" discutido en la página 234 de la edición de 1996.) Nuestro primer paso es encontrar el
    Lagrangiano del sistema que es la energía cinética menos la energía potencial.
</p>

<p class="html-math display-equation">
<i>L</i> = <i>T</i> &minus; <i>V</i>
</p>

<ul class="vars">
    <li><span class="html-math inline-math">
<i>L</i> =
</span> el lagrangiano</li>
    <li><span class="html-math inline-math">
<i>T</i> =
</span> energía cinética</li>
    <li><span class="html-math inline-math">
<i>V</i> =
</span> energía potencial</li>
</ul>

<p>Para la energía cinética necesitamos la velocidad del carro y el péndulo, que
    calculado antes
    (ver <a href="#kinematics">cinemática</a> arriba). La energía cinética está dada por
<span class="html-math inline-math">
<sup>1</sup>&frasl;<sub>2</sub><i>m</i> <span class="vector"><i>v</i></span><sup>2</sup>
</span>. Tenga en cuenta que usamos el producto vectorial para elevar al cuadrado un
vector, <span class="html-math inline-math">
<span class="vector"><i>v</i></span><sup>2</sup> = <span class="vector"><i>v</i></span> &middot; <span class="vector"><i>v</i></span>
</span>. Entonces tenemos
</p>

<p class="html-math display-equation">
<i>T</i> = <sup>1</sup>&frasl;<sub>2</sub> <i>M</i> (<i>x'</i> <span class="vector">i</span>)<sup>2</sup> +
<span class="nobr"><sup>1</sup>&frasl;<sub>2</sub> <i>m</i> (<i>x'</i> <span class="vector">i</span> + <i>R</i> <i>&theta;'</i> cos <i>&theta;</i>  <span class="vector">i</span>
  + <i>R</i> <i>&theta;'</i> sin <i>&theta;</i>  <span class="vector">j</span>)<sup>2</sup></span>
</p>

<p>Aplicando la regla del producto escalar al cuadrado de los vectores obtenemos
</p>

<p class="html-math display-equation">
<i>T</i> = <sup>1</sup>&frasl;<sub>2</sub> <i>M</i> <i>x'</i> <sup>2</sup> +
<span class="nobr"><sup>1</sup>&frasl;<sub>2</sub> <i>m</i> ((<i>x'</i> + <i>R</i> <i>&theta;'</i> cos <i>&theta;</i>)<sup>2</sup>
  + (<i>R</i> <i>&theta;'</i> sin <i>&theta;</i>)<sup>2</sup>)</span>
</p>

<p>Hay dos almacenes de energía potencial en este sistema: el resorte y el
    potencial gravitatorio del péndulo.
</p>

<p class="html-math display-equation">
<i>V</i><sub>resorte</sub> = <sup>1</sup>&frasl;<sub>2</sub> <i>k</i> <i>x</i><sup>2</sup>
</p>

<p class="html-math display-equation">
<i>V</i><sub>gravedad</sub> = <i>m</i> <i>g</i> height = <i>m</i> <i>g</i>(<i>R</i> &minus; <i>R</i> cos <i>&theta;</i>)
</p>

<p>Entonces, el Lagrangiano para el sistema es
</p>

<p class="html-math display-equation">
<i>L</i> = <sup><i>M</i></sup>&frasl;<sub>2</sub> <i>x'</i> <sup>2</sup> +
<span class="nobr"><sup><i>m</i></sup>&frasl;<sub>2</sub> (<i>x'</i> + <i>R</i> <i>&theta;'</i> cos <i>&theta;</i>)<sup>2</sup></span> +
<span class="nobr"><sup><i>m</i></sup>&frasl;<sub>2</sub> (<i>R</i> <i>&theta;'</i> sin <i>&theta;</i>)<sup>2</sup></span> &minus;
<span class="nobr"><sup><i>k</i></sup>&frasl;<sub>2</sub> <i>x</i><sup>2</sup></span> &minus;
<span class="nobr"><i>m</i> <i>g</i> <i>R</i>(1 &minus; cos <i>&theta;</i>)</span>
</p>



<h2>GFuerzas Generalizadas: Fricción</h2>

<p>
    Para lidiar con las fuerzas de fricción, calculamos la cantidad de trabajo no conservativo realizado
    por pequeños movimientos en las variables. Tenga en cuenta que consideramos solo fuerzas no conservativas
    como la fricción aquí: las fuerzas conservativas como la gravedad o los resortes son manejadas por los
    cálculos de energía potencial en el Lagrangiano.
</p>

<p>
    Un pequeño cambio de <span class="html-math inline-math">
&Delta;<i>x</i>
</span> in <span class="html-math inline-math">
<i>x</i>
</span> resulta en una cantidad de
trabajo no conservativo de la fricción dado por
<span class="html-math inline-math">
&Delta;<i>W</i> = &minus;<i>d</i> <i>x'</i> &Delta;<i>x</i>
</span> por lo que definimos la "fuerza generalizada"
</p>

<p class="html-math display-equation">
<i>W<sub>x</sub></i> = &minus;<i>d</i> <i>x'</i>
</p>

<p>Del mismo modo, un pequeño cambio de <span class="html-math inline-math">
&Delta;<i>&theta;</i>
</span> en <span class="html-math inline-math">
<i>&theta;</i>
</span> resulta en una cantidad de
trabajo no conservativo de la fricción <span class="html-math inline-math">
&Delta;<i>W</i> = &minus;<i>b</i> <i>&theta;'</i> &Delta;<i>&theta;</i>
</span>, por lo que
definimos otra fuerza generalizada:
</p>

<p class="html-math display-equation">
<i>W<sub>&theta;</sub></i> = &minus;<i>b</i> <i>&theta;'</i>
</p>




<h2>Ecuaciones de movimiento Lagrangiano</h2>

<p>A continuación, derivaremos las ecuaciones de movimiento a partir de la ecuación de Lagrange. Para la variable de Lagrange
<span class="html-math inline-math">
<i>x</i>
</span> la ecuación es
</p>

<p>
$$W_x = \frac{d}{dt} \left( \frac{\partial L}{\partial x'} \right) -
    \frac{\partial L}{\partial x} \tag{8}$$</p>

<p>Tenga en cuenta que <span class="html-math inline-math">
<i>x'</i>
</span> y <span class="html-math inline-math">
<i>x</i>
</span> se tratan como variables separadas cuando se toman
derivadas parciales. Estas son las derivadas parciales:
</p>

<div class="html-math table-equation">
<table class="fraction">
    <tr>
        <td>
            &part; <i>L</i>
        </td><td rowspan="2">
            &nbsp;= <i>M</i> <i>x'</i> + <i>m</i>(<i>x'</i> + <i>R</i> <i>&theta;'</i> cos <i>&theta;</i>)
        </td>
    </tr><tr>
        <td class="upper_line">
            &part; <i>x'</i>
        </td>
    </tr>
</table>

<table class="fraction">
    <tr>
        <td>
            &part; <i>L</i>
        </td><td rowspan="2">
            &nbsp;= &minus; <i>k</i> <i>x</i>
        </td>
    </tr><tr>
        <td class="upper_line">
            &part; <i>x</i>
        </td>
    </tr>
</table>
</div>

<p>Derivada con respecto al tiempo de \( \frac{\partial L}{\partial x'} \)
    y restando \( \frac{\partial L}{\partial x} \) equation (8) becomes
</p>

<p class="html-math display-equation">
&minus; <i>d</i> <i>x'</i> = <i>M</i> <i>x''</i> + <i>m</i> <i>x''</i> + <i>m</i> <i>R</i> <i>&theta;''</i> cos <i>&theta;</i> &minus;
<span class="nobr"><i>m</i> <i>R</i> <i>&theta;'</i> <sup>2</sup> sin <i>&theta;</i></span> +
<span class="nobr"><i>k</i> <i>x</i></span>
</p>

<p>que podemos reorganizar para que sea idéntica a la ecuación (6) que se encuentra arriba en el
    método directo:
</p>

<p class="html-math display-equation">
(<i>M</i> + <i>m</i>)<i>x''</i> = <i>m</i> <i>R</i> <i>&theta;'</i> <sup>2</sup> sin <i>&theta;</i> &minus;
<span class="nobr"><i>m</i> <i>R</i> <i>&theta;''</i> cos <i>&theta;</i></span> &minus;
<span class="nobr"><i>k</i> <i>x</i></span> &minus;
<span class="nobr"><i>d</i> <i>x'</i></span>
</p>

<p>Para la variable <span class="html-math inline-math">
<i>&theta;</i>
</span> la ecuación Lagrangiana es
</p>

<p>$$W_{\theta} = \frac{d}{dt} \left( \frac{\partial L}{\partial \theta'} \right) -
    \frac{\partial L}{\partial \theta} \tag{9}$$</p>

<p>Estas son las derivadas parciales:
</p>

<div class="html-math table-equation">
<table class="fraction">
    <tr>
        <td>
            &part; <i>L</i>
        </td><td rowspan="2">
            &nbsp;= <i>m</i>(<i>x'</i> + <i>R</i> <i>&theta;'</i> cos <i>&theta;</i>)<i>R</i> cos <i>&theta;</i> + <i>m</i> <i>&theta;'</i> <i>R</i><sup>2</sup> sin<sup>2</sup><i>&theta;</i>
        </td>
    </tr><tr>
        <td class="upper_line">
            &part; <i>&theta;'</i>
        </td>
    </tr>
</table>

<table class="fraction">
    <tr>
        <td>
            &part; <i>L</i>
        </td><td rowspan="2">
            &nbsp;= &minus;<i>m</i>(<i>x'</i> + <i>R</i> <i>&theta;'</i> cos <i>&theta;</i>)<i>R</i> <i>&theta;'</i> sin <i>&theta;</i> +
            <i>m</i> <i>R</i><sup>2</sup> <i>&theta;'</i> <sup>2</sup>sin <i>&theta;</i> cos <i>&theta;</i> &minus;
            <i>m</i> <i>g</i> <i>R</i> sin <i>&theta;</i>
        </td>
    </tr><tr>
        <td class="upper_line">
            &part; <i>&theta;</i>
        </td>
    </tr>
</table>
</div>

<p>(Tenga en cuenta que podemos factorizar <span class="html-math inline-math">
<i>m</i> <i>R</i>
</span> de cada uno de estos términos). Tomando la
derivada con respecto al tiempo de \( \frac{\partial L}{\partial \theta'} \) y
restando
\( \frac{\partial L}{\partial \theta} \) la ecuación (9) se convierte en
</p>

<p class="html-math display-equation">
&minus; <i>b</i> <i>&theta;'</i> = <i>m</i> <i>R</i> [(<i>x''</i> + <i>R</i> <i>&theta;''</i> cos <i>&theta;</i>
&minus; <i>R</i> <i>&theta;'</i> <sup>2</sup> sin <i>&theta;</i>)cos <i>&theta;</i> &minus;
<span class="nobr"><i>&theta;'</i> sin <i>&theta;</i>(<i>x'</i> + <i>R</i> <i>&theta;'</i> cos <i>&theta;</i>)</span> +
<span class="nobr"><i>&theta;''</i> <i>R</i> sin<sup>2</sup><i>&theta;</i></span> +
<span class="nobr">2 <i>&theta;'</i> <sup>2</sup><i>R</i> sin <i>&theta;</i> cos <i>&theta;</i></span> +
<span class="nobr">(<i>x'</i> + <i>R</i> <i>&theta;'</i> cos <i>&theta;</i>)<i>&theta;'</i> sin <i>&theta;</i></span> &minus;
<span class="nobr"><i>R</i> <i>&theta;'</i> <sup>2</sup>sin <i>&theta;</i> cos <i>&theta;</i></span> +
<span class="nobr"><i>g</i> sin <i>&theta;</i>]</span>
</p>

<p>Después de muchas cancelaciones y uso de la identidad
<span class="html-math inline-math">
sin<sup>2</sup><i>&theta;</i> + cos<sup>2</sup><i>&theta;</i> = 1
</span>
esto se reduce a la ecuación (7) del método directo:
</p>

<p class="html-math display-equation">
<sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i> + <i>m</i> <i>x''</i> cos <i>&theta;</i> + <i>m</i> <i>R</i> <i>&theta;''</i> + <i>m</i> <i>g</i> sin <i>&theta;</i> = 0
</p>

<p>¿Qué técnica te gusta más, la directa o la indirecta? Parece que el método indirecto
    es la elección de los ingenieros mecánicos. Requiere más cálculo, pero los cálculos son mucho más fáciles.
    Compare lo que se hizo aquí con los
<a href="#friction_torque">cálculos anteriores</a> para el par de fricción en el método directo.
Por otro lado, el método directo es necesario para calcular las fuerzas
dentro del sistema, como la tensión en la barra, o la fuerza normal de la pista en el
carro.
</p>




<h2>Solución numérica</h2>

<p>Para resolver numéricamente las ecuaciones de movimiento, de modo que podamos conducir la simulación,
    usamos el <a href="../explain/runge-kutta-es.html">método Runge Kutta</a>
    para resolver conjuntos de ecuaciones diferenciales ordinarias.
</p>

<p>Para usar el método de Runge-Kutta, necesitamos obtener las ecuaciones (6) y (7) de la siguiente forma:
</p>

<p class="html-math display-equation">
<i>x''</i> = <i>f</i>(<i>x</i>, <i>x'</i>, <i>&theta;</i>, <i>&theta;'</i>)
</p>

<p class="html-math display-equation">
<i>&theta;''</i> = <i>g</i>(<i>x</i>, <i>x'</i>, <i>&theta;</i>, <i>&theta;'</i>)
</p>

<p>donde <span class="html-math inline-math">
<i>f</i>, <i>g</i>
</span> son funciones por determinar. Entonces queremos resolver
para cada segunda derivada en términos de variables derivadas inferiores. Si miras hacia atrás las
ecuaciones (6) y (7), se puede ver que necesitan alguna manipulación para aislar las
segundas derivadas hacia el lado izquierdo. Después de resolver <span class="html-math inline-math">
<i>&theta;''</i>
</span> y
<span class="html-math inline-math">
<i>x''</i>
</span> (ya sea a mano o con un programa de álgebra como Mathematica) obtenemos:
</p>

<div class="html-math table-equation">
<table class="fraction">
    <tr>
        <td rowspan="2">
            <i>x''</i>&nbsp;=&nbsp;
        </td><td>
            <i>m</i> <i>R</i> <i>&theta;'</i> <sup>2</sup> sin <i>&theta;</i> + <i>m</i> <i>g</i> sin <i>&theta;</i> cos <i>&theta;</i> &minus; <i>k</i> <i>x</i>
            &minus; <i>d</i> <i>x'</i> + <sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i> cos <i>&theta;</i>
        </td>
    </tr><tr>
        <td class="upper_line">
            <i>M</i> + <i>m</i> sin<sup>2</sup><i>&theta;</i>
        </td>
    </tr>
</table>

<table class="fraction">
    <tr>
        <td rowspan="2">
            <i>&theta;''</i>&nbsp;=&nbsp;
        </td><td>
            &minus;<i>m</i> <i>R</i> <i>&theta;'</i> <sup>2</sup> sin <i>&theta;</i> cos <i>&theta;</i>
            &minus; (<i>m</i>+<i>M</i>)<i>g</i> sin <i>&theta;</i> + <i>k</i> <i>x</i> cos <i>&theta;</i> + <i>d</i> <i>x'</i> cos <i>&theta;</i>
            &minus; (1 + <sup><i>M</i></sup>&frasl;<sub><i>m</i></sub>)<sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&theta;'</i>
        </td>
    </tr><tr>
        <td class="upper_line">
            <i>R</i> (<i>M</i> + <i>m</i> sin<sup>2</sup><i>&theta;</i>)
        </td>
    </tr>
</table>
</div>

<p>Si definimos un par de nuevas variables, podemos cambiar esto en cuatro ecuaciones de primer orden
    (es decir, cuatro ecuaciones con sólo primeras derivadas). </p>

<ul class="vars">
    <li><span class="html-math inline-math">
<i>v</i> =
</span> velocidad del carro</li>
    <li><span class="html-math inline-math">
<i>&omega;</i> =
</span> velocidad angular del péndulo</li>
</ul>

<p class="html-math display-equation">
<i>x'</i> = <i>v</i>
</p>

<p class="html-math display-equation">
<i>&theta;'</i> = <i>&omega;</i>
</p>

<div class="html-math table-equation">
<table class="fraction">
    <tr>
        <td rowspan="2">
            <i>v'</i>&nbsp;=&nbsp;
        </td><td>
            <i>m</i> <i>R</i> <i>&omega;</i><sup>2</sup> sin <i>&theta;</i> + <i>m</i> <i>g</i> sin <i>&theta;</i> cos <i>&theta;</i> &minus; <i>k</i> <i>x</i>
            &minus; <i>d</i> <i>v</i> + <sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&omega;</i> cos <i>&theta;</i>
        </td>
    </tr><tr>
        <td class="upper_line">
            <i>M</i> + <i>m</i> sin<sup>2</sup><i>&theta;</i>
        </td>
    </tr>
</table>

<table class="fraction">
    <tr>
        <td rowspan="2">
            <i>&omega;'</i>&nbsp;=&nbsp;
        </td><td>
            &minus;<i>m</i> <i>R</i> <i>&omega;</i><sup>2</sup> sin <i>&theta;</i> cos <i>&theta;</i>
            &minus; (<i>m</i>+<i>M</i>)<i>g</i> sin <i>&theta;</i> + <i>k</i> <i>x</i> cos <i>&theta;</i> + <i>d</i> <i>v</i> cos <i>&theta;</i>
            &minus; (1 + <sup><i>M</i></sup>&frasl;<sub><i>m</i></sub>)<sup><i>b</i></sup>&frasl;<sub><i>R</i></sub> <i>&omega;</i>
        </td>
    </tr><tr>
        <td class="upper_line">
            <i>R</i> (<i>M</i> + <i>m</i> sin<sup>2</sup><i>&theta;</i>)
        </td>
    </tr>
</table>
</div>

<p>Esta es ahora exactamente la forma necesaria para aplicar con el método Runge-Kutta para
    una solución numérica del sistema. </p>

<!-- TO DO:
  El caos no es posible aquí... explica por qué.
-->

<p id="page_history">
    Esta página web se publicó por primera vez en septiembre de 2001.
</p>

<div id="footer2" >
  <div id="copyright">
    &copy; <a href="mailto:erikn@myPhysicsLab.com"
    title="send comments to Erik Neumann">
    Erik Neumann</a>,  2004-2016<br>
    <span id="revised_date">revisado Feb 6 2021</span>
  </div>
</div>

<!-- Call the app script after the body so that html entities are defined and
* the script can find them.-->
<script src="CartPendulumApp-es.js"></script>

<script>
  (function build() {
    var elem_ids = {
      tab_list: 'header_bar',
      container: 'container',
      term_output: 'term_output',
      term_input: 'term_input',
      sim_applet: 'sim_applet',
      div_graph: 'div_graph',
      graph_controls: 'graph_controls',
      sim_controls: 'sim_controls',
      div_terminal: 'div_terminal',
      div_time_graph: 'div_time_graph',
      time_graph_controls: 'time_graph_controls',
      div_multi_graph: 'div_multi_graph',
      multi_graph_controls: 'multi_graph_controls',
      label_terminal: 'label_terminal',
      show_terminal: 'show_terminal',
      show_sim: 'show_sim',
      images_dir: '../common'
    };
    app = makeCartPendulumApp(elem_ids);
    app.defineNames('app');
    window.addEventListener('pageshow', function(event){
      // set language menu and compiled menus in case of back-button
      var menu = document.getElementById('language_menu');
      if (menu) { menu.selectedIndex = 2; }
      menu = document.getElementById('compiled_menu');
      if (menu) { menu.selectedIndex = 1; }
    }, /*capturing=*/false);
    window.addEventListener('blur', function(event){
      app.eval('FIRING=false;', /*output=*/false);
    }, /*capturing=*/false);
    window.addEventListener('focus', function(event){
      app.eval('FIRING=true;', /*output=*/false);
    }, /*capturing=*/false);
  }());
</script>

<script>
  document.getElementsByTagName("html")[0].style.visibility = "visible";
</script>

<script>var app; if (app) app.setup();</script>
<script>var app; if (app) app.start();</script>
<script>
    app.eval('TAB_LAYOUT.LAYOUT="sim+graph";');
</script>
<div id="footer2" >
  <div id="copyright">
    &copy; <a href="mailto:erikn@MyPhysicsLab.com"
    title="copyright 2020 Erik Neumann">
    Erik Neumann</a> 2020, available under
    <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2</a>
</div>
</body>
</html>
